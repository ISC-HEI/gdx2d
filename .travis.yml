language: java
jdk:
- openjdk6
- openjdk7
- oraclejdk7
- oraclejdk8

branches:
  only:
  - master
  - develop

sudo: false

cache:
  directories:
  - "$HOME/.m2"

env:
  global:
  # Publish the gdx2d API Javadoc to the gdx2d website
  # - secure: Trl21W5O4XR8sTR9JPrYk4Rl/9j3CfbXLvFOWepQ8dcl5r90OeqUtBZvEygxzem1fqBGDHPryC/hSMoimac5YQj9J7PFqi15zQ4JhYNbg8zvpgfGk4tJwmJ+nBzz9TF6lkZQsRGwqpWYaSnv5BlL8fnuIRREe2FbHyCEZEcLeNk=

  # Publish snapshots to Sonatype (CI_DEPLOY_USERNAME, CI_DEPLOY_PASSWORD)
  - secure: UijlByzGPikgOuNd4xhoD/T+OOApxO1Pqt7Xk/02eGtSehxLlkHDR+mlBPzwubiuaH6ZT/hJ9DQ21WKmwOlIUT/cj97qLBi/i3Rfp/bqPIE5rBSXVR6QeqT2WJx8ourNAcZ86eSodTx5FkkHpcCHLCmEG/CP+SO 1e1pspfDxA0c=
  - secure: pm0jRzQFV0JGRns7MpyhGRCM5klJy8NDgX40mgQfTdSOq724CpzlEAM0I/KzFEQiuYTaw680a6MCrm4tdfk0v/b7Q5rhyawIYXZwYINRLC+PZyvIx/n8EPSQQiTwZVFfPcsOJet0570dKvZfSSQNcCFfJsaJi4aAtzP3f2p4KXo=

install:
- mvn install -DskipTests=true -Dgpg.skip=true

# Publish snapshots to Sonatype
after_success:
  - "[[ ${TRAVIS_PULL_REQUEST} == 'false' ]] && [[ ${TRAVIS_TAG} == '' ]] && mvn deploy -DskipTests --settings ./.travis/deploy-settings.xml"

# Do not generate the javadoc for each modules any more
# after_success:
#   - ./.travis/publish-javadoc-api.sh
